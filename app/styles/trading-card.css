/* Trading Card (TCGCard) styles */

.circuit-trading-card {
  display: flex;
  flex-direction: column;
  background: transparent; /* 0% opacity */
  border: 1px solid transparent; /* 0% opacity */
  border-radius: var(--sds-size-radius-200);
  padding: var(--sds-size-space-200);
  width: 100%; /* Fill grid cell */
  min-width: 0; /* Allow card to shrink to fit grid */
  height: 100%;
  transition: border-color 0.2s ease, transform 0.2s ease;
}

.circuit-trading-card:hover {
  transform: translateY(var(--sds-size-space-negative-050));
  background: var(--circuit-mid-teal);
}

/* Clickable card styles */
.circuit-trading-card--clickable {
  cursor: pointer;
  user-select: none;
}

/* Use focus-visible instead of focus to only show outline for keyboard navigation */
.circuit-trading-card--clickable:focus-visible {
  outline: 2px solid var(--circuit-mid-teal);
  outline-offset: 2px;
}

/* Remove focus outline when clicking (mouse/touch) */
.circuit-trading-card--clickable:focus:not(:focus-visible) {
  outline: none;
}

.circuit-trading-card--clickable:active {
  transform: scale(0.98);
}

.circuit-trading-card-image-wrapper {
  position: relative;
  width: 100%;
  min-width: 0; /* Prevent image from breaking grid */
  aspect-ratio: 2.5 / 3.5; /* Standard trading card ratio */
  max-height: 600px; /* Constrain maximum height */
  max-width: calc(600px * (2.5 / 3.5)); /* Maintain aspect ratio: ~428px */
  margin-bottom: var(--sds-size-space-200);
  overflow: hidden;
  border-radius: var(--sds-size-radius-300);
}

.circuit-trading-card-img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* Ensure image fills the aspect ratio box */
  display: block;
}

/* Placeholder for missing images */
.circuit-trading-card-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-subtle);
  border: 1px dashed var(--border-default);
  color: var(--text-tertiary);
  font-size: var(--font-size-75);
  text-align: center;
}



.circuit-trading-card-info {
  display: flex;
  flex-direction: column;
  gap: var(--sds-size-space-050);
}

.circuit-trading-card-name {
  font: var(--font-body-strong);
  color: var(--text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.circuit-trading-card-meta {
  font: var(--font-body-small);
  color: var(--text-tertiary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Responsive card grid with perfect scaling */
.card-grid {
  display: grid;
  gap: var(--sds-size-space-400);
  /* Default: 2 columns for smallest screens */
  grid-template-columns: repeat(2, minmax(0, 1fr));
  grid-auto-rows: auto;
  padding: 0 12px;
}

/* Viewport-based column adjustments for better ratios */

/* Small to medium mobile: 2 columns */
@media (max-width: 712px) {
  .card-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: var(--sds-size-space-200);
  }
  
  /* Smaller border radius on mobile */
  .circuit-trading-card-image-wrapper {
    border-radius: var(--sds-size-radius-200);
  }
}

/* Larger mobile to tablet: 3 columns */
@media (min-width: 713px) and (max-width: 888px) {
  .card-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: var(--sds-size-space-300);
  }
}

/* Tablet to small desktop transition: 3 columns with larger cards */
@media (min-width: 889px) and (max-width: 1080px) {
  .card-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: var(--sds-size-space-400);
  }
}

/* Small desktop: 4 columns */
@media (min-width: 1081px) and (max-width: 1400px) {
  .card-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

/* Medium desktop: 5 columns */
@media (min-width: 1401px) and (max-width: 1486px) {
  .card-grid {
    grid-template-columns: repeat(5, minmax(0, 1fr));
  }
}

/* Large desktop: 5 columns */
@media (min-width: 1487px) and (max-width: 1800px) {
  .card-grid {
    grid-template-columns: repeat(5, minmax(0, 1fr));
  }
}

/* XL desktop: 6 columns */
@media (min-width: 1801px) and (max-width: 2040px) {
  .card-grid {
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }
}

/* 2K displays: 7 columns */
@media (min-width: 2041px) and (max-width: 2680px) {
  .card-grid {
    grid-template-columns: repeat(7, minmax(0, 1fr));
  }
}

/* Ultrawide/4K+: Auto-fill with infinite columns */
@media (min-width: 2681px) {
  .card-grid {
    /* Cards at 240px minimum - allows more columns on ultrawide displays */
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: var(--sds-size-space-600);
  }
}

/* Mobile card adjustments for smaller viewports */
@media (max-width: 712px) {
  .circuit-trading-card {
    padding: var(--sds-size-space-100); /* Smaller padding */
  }
  
  .circuit-trading-card-name {
    font-size: 12px; /* Smaller text */
    line-height: 1.2;
  }
  
  .circuit-trading-card-meta {
    font-size: 10px; /* Tiny meta text */
  }
}

/* Ultra-small screens: minimal card display */
@media (max-width: 320px) {
  .circuit-trading-card {
    padding: var(--sds-size-space-050); /* Minimal padding */
  }
  
  .circuit-trading-card-image-wrapper {
    margin-bottom: var(--sds-size-space-100);
  }
  
  .circuit-trading-card-name {
    font-size: 11px; /* Even smaller */
  }
  
  /* Hide meta info on ultra-small screens */
  .circuit-trading-card-meta {
    display: none;
  }
}

:root {
  --surface-background-subtle-50: rgba(from var(--surface-background-subtle) r g b / 0.5);
} 