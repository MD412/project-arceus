/* ===== GLOBAL STYLES ===== */

:root {
  /* --- PRIMITIVE TOKENS --- */

  /* 1. COLOR PRIMITIVES */
  /* Circuit Theme Color Palette */
  --circuit-dark-teal: #1a4a47;
  --circuit-mid-teal: #2d6a65;
  --circuit-medium-light-teal: #3b847e;
  --circuit-light-teal: #4a9b94;
  --circuit-bright-teal: #5dbfb7; /* New color for hover states */
  --circuit-hover-teal: #6dd1c9; /* Lighter teal for hover states */
  --circuit-hover-bg: #1a3a38; /* Slightly lighter than --background (#0f2b29) */
  --circuit-bright-yellow: #FFCF60; /* UPDATED: User request for a new yellow */ 
  --circuit-light-yellow: #fff2d1; 
  --circuit-magenta: #e91e63;
  --circuit-darker-teal: #0f2b29;
  --circuit-teal: #4a9b94; /* Alias for circuit-light-teal for backward compatibility */

  /* Neutral Colors */
  --color-white-100: rgba(255, 255, 255, 0.05);
  --color-white-200: rgba(255, 255, 255, 0.1);
  --color-white-300: rgba(255, 255, 255, 0.2);
  --color-white-400: rgba(255, 255, 255, 0.4);
  --color-white-500: rgba(255, 255, 255, 0.7);
  --color-white-600: rgba(255, 255, 255, 0.8);
  --color-white-700: rgba(255, 255, 255, 0.85);
  --color-white-800: rgba(255, 255, 255, 0.9);
  --color-white-900: rgba(255, 255, 255, 0.95);
  --color-white-1000: rgb(255, 255, 255);

  --color-black-100: rgba(12, 12, 13, 0.05);
  --color-black-200: rgba(12, 12, 13, 0.1);
  --color-black-300: rgba(12, 12, 13, 0.2);
  --color-black-400: rgba(12, 12, 13, 0.4);
  --color-black-500: rgba(12, 12, 13, 0.7);
  --color-black-600: rgba(12, 12, 13, 0.8);
  --color-black-700: rgba(12, 12, 13, 0.85);
  --color-black-800: rgba(12, 12, 13, 0.9);
  --color-black-900: rgba(12, 12, 13, 0.95);
  --color-black-1000: rgb(12, 12, 13);

  /* Status Colors */
  --color-red-100: rgb(254, 233, 231);
  --color-red-300: rgb(252, 179, 173);
  --color-red-500: rgb(236, 34, 31);
  --color-red-600: rgb(192, 15, 12);

  --color-green-100: rgb(235, 255, 238);
  --color-green-300: rgb(175, 244, 198);
  --color-green-500: rgb(20, 174, 92);
  --color-green-700: rgb(0, 128, 67);

  --color-yellow-100: rgb(255, 251, 235);
  --color-yellow-300: rgb(255, 232, 163);
  --color-yellow-500: rgb(230, 160, 0);
  --color-yellow-600: rgb(191, 106, 2);

  /* 2. SIZE PRIMITIVES */
  /* Spacing Scale */
  --sds-size-space-0: 0px;
  --sds-size-space-025: 1px;
  --sds-size-space-050: 2px;
  --sds-size-space-075: 3px;
  --sds-size-space-100: 4px;
  --sds-size-space-150: 6px;
  --sds-size-space-200: 8px;
  --sds-size-space-250: 10px;
  --sds-size-space-300: 12px;
  --sds-size-space-400: 16px;
  --sds-size-space-500: 20px;
  --sds-size-space-600: 24px;
  --sds-size-space-700: 28px;
  --sds-size-space-800: 32px;
  --sds-size-space-1000: 40px;
  --sds-size-space-1200: 48px;
  --sds-size-space-1600: 64px;
  --sds-size-space-2000: 80px;
  --sds-size-space-2400: 96px;
  --sds-size-space-3200: 128px;
  --sds-size-space-4000: 160px;

  /* Component Heights - Reduced for more modern, compact buttons */
  --sds-size-height-32: 28px; /* For small buttons, etc. (was 32px) */
  --sds-size-height-36: 32px; /* Small input height (was 36px) */
  --sds-size-height-40: 36px; /* Default button height (was 40px) */
  --sds-size-height-44: 40px; /* Default input height (was 44px) */
  --sds-size-height-48: 44px; /* Large button height (was 48px) */
  --sds-size-height-52: 48px; /* Large input height (was 52px) */

  /* Negative spacing */
  --sds-size-space-negative-050: -2px;
  --sds-size-space-negative-100: -4px;
  --sds-size-space-negative-200: -8px;
  --sds-size-space-negative-300: -12px;
  --sds-size-space-negative-400: -16px;
  --sds-size-space-negative-600: -24px;

  /* Border Radius */
  --sds-size-radius-100: 4px;
  --sds-size-radius-150: 6px;
  --sds-size-radius-200: 8px;
  --sds-size-radius-300: 14px;
  --sds-size-radius-400: 16px;
  --sds-size-radius-full: 9999px;

  /* Depth (for shadows and z-index) */
  --sds-size-depth-0: 0;
  --sds-size-depth-025: 1;
  --sds-size-depth-100: 4;
  --sds-size-depth-200: 8;
  --sds-size-depth-400: 16;
  --sds-size-depth-800: 32;
  --sds-size-depth-1200: 48;

  /* Negative depth */
  --sds-size-depth-negative-025: -1;
  --sds-size-depth-negative-100: -4;
  --sds-size-depth-negative-200: -8;
  --sds-size-depth-negative-400: -16;
  --sds-size-depth-negative-800: -32;
  --sds-size-depth-negative-1200: -48;

  /* Stroke widths */
  --sds-size-stroke-border: 1px;
  --sds-size-stroke-focus-ring: 2px;

  /* Blur */
  --sds-size-blur-100: 4px;

  /* Icon sizes */
  --sds-size-icon-small: 24px;
  --sds-size-icon-medium: 32px;
  --sds-size-icon-large: 40px;

  /* --- SEMANTIC TOKENS (CIRCUIT THEME AS DEFAULT) --- */
  
  /* A. Core Page Semantics */
  --background: var(--circuit-darker-teal); 
  --foreground: var(--circuit-light-yellow); 

  /* B. Surface Colors */
  --surface-background: var(--circuit-mid-teal);         
  --surface-background-hover: var(--circuit-light-teal);   
  --surface-background-pressed: var(--circuit-dark-teal);    
  --surface-background-subtle: var(--circuit-darker-teal);  
  --surface-background-subtle-25: color-mix(in srgb, var(--circuit-darker-teal) 75%, black 25%); /* 25% darker than subtle */
  --surface-background-muted: var(--circuit-dark-teal);    
  --surface-background-emphasis: var(--circuit-light-yellow); 
  --surface-background-disabled: #1f3a38; 
  --surface-container-level-1: var(--circuit-dark-teal); 
  --surface-preview-background: var(--circuit-dark-teal);
  --surface-elevated: var(--circuit-light-teal);
  --surface-hover: var(--circuit-light-teal);
  --surface-sidebar-background: var(--circuit-dark-teal);

  /* C. Text Colors */
  --text-primary: var(--circuit-light-yellow);   
  --text-secondary: var(--circuit-light-yellow); 
  --text-tertiary: rgba(255, 242, 209, 0.6);    /* Updated to be a semi-transparent light yellow */
  --text-disabled: #4a6664;  
  --text-inverse: var(--circuit-darker-teal);   
  --text-brand: var(--circuit-bright-yellow);    
  --text-error: #ff6b6b; 
  --text-success: #48c774; 
  --text-warning: #ffdd57; 
  --text-heading-strong: var(--circuit-bright-yellow);
  
  /* D. Border Colors */
  --border-default: var(--circuit-light-teal);
  --border-hover: var(--circuit-bright-teal);
  --border-focus: var(--circuit-bright-yellow);
  --border-error: #ff3860;
  --border-success: #257942;
  --border-disabled: #365855;
  --border-interactive-primary: var(--interactive-primary-pressed); 
  --border-interactive-secondary: var(--circuit-magenta);
  --border-subtle: var(--circuit-mid-teal);
  --border-interactive: var(--border-default);
  --border-interactive-hover: var(--border-hover);
  --border-interactive-pressed: var(--border-default);

  /* E. Interactive Element Colors */
  --interactive-primary: var(--circuit-bright-yellow);
  --interactive-primary-hover: #ffdc73; /* UPDATED: Lighter shade of new yellow */ 
  --interactive-primary-pressed: #f0c052; /* UPDATED: Darker shade of new yellow */ 
  --interactive-secondary: var(--circuit-magenta);
  --interactive-secondary-hover: #f04fa8; 
  --interactive-secondary-pressed: #d81b60; 
  --interactive-danger: #ff3860;
  --interactive-danger-hover: #ff556f;
  --interactive-danger-pressed: #e6204b;

  /* F. Status Colors */
  --status-error: #e74c3c;
  --status-error-hover: #c0392b;
  --status-error-pressed: #962d22;
  --status-error-subtle: rgba(231, 76, 60, 0.15);
  --status-success: #2ecc71;
  --status-success-subtle: rgba(46, 204, 113, 0.15);
  --status-warning: var(--circuit-bright-yellow); 
  --status-warning-subtle: rgba(255, 185, 53, 0.15);
  --status-info: var(--circuit-light-teal); 
  --status-info-subtle: rgba(74, 155, 148, 0.15);
  --interactive-primary-subtle: rgba(255, 207, 96, 0.15);
  --interactive-primary-subtle-pressed: rgba(255, 207, 96, 0.25);

  /* F2. Supplementary Colors - Blues */
  --color-blue-100: #e8f4ff; /* Light info background */
  --color-blue-300: #93c5ff; /* Medium info accent */
  --color-blue-500: #3286f5; /* Primary info color */
  --color-blue-700: #1e5daf; /* Dark info color */

  /* F3. Supplementary Colors - Purples */
  --color-purple-100: #f5ebff; /* Light accent background */
  --color-purple-300: #c199ff; /* Medium accent */
  --color-purple-500: #8c51f5; /* Primary accent color */
  --color-purple-700: #6636b6; /* Dark accent color */

  /* F4. Supplementary Colors - Oranges */
  --color-orange-100: #fff2e7; /* Light warning background */
  --color-orange-300: #ffb681; /* Medium warning accent */
  --color-orange-500: #f67e22; /* Primary warning color */
  --color-orange-700: #c15009; /* Dark warning color */

  /* G. Focus Indicator Colors */
  --focus-ring: var(--eva-bright-yellow);

  /* H. Overlay Colors */
  --overlay-background: rgba(15, 43, 41, 0.85); 
  --overlay-hover: rgba(15, 43, 41, 0.95);
  --overlay-modal: rgba(15, 43, 41, 0.92);

  /* I. Typography */
  --font-family-sans: var(--font-inter), system-ui, -apple-system, sans-serif;
  --font-family-mono: var(--font-roboto-mono), 'Courier New', monospace;
  --font-family-display: var(--font-monda), sans-serif;

  /* Typography Scale - Circuit Theme */
  --font-title-hero: 700 64px/1.2 var(--font-family-display);
  --font-title-page: 700 42px/1.2 var(--font-family-display);
  --font-subtitle: 400 28px/1.2 var(--font-family-display);
  --font-heading: 600 21px/1.2 var(--font-family-display);
  --font-subheading: 400 18px/1.2 var(--font-family-display);
  --font-body-base: 400 var(--font-size-87)/1.4 var(--font-family-display);
  --font-body-strong: 600 var(--font-size-87)/1.4 var(--font-family-display);
  --font-body-small: 400 var(--font-size-75)/1.4 var(--font-family-display);
  --font-body-small-strong: 600 var(--font-size-75)/1 var(--font-family-display);
  --font-body-code: 400 var(--font-size-100)/1 var(--font-family-mono);
  --font-input: 400 var(--font-size-87)/1 var(--font-family-display);

  /* Single Line Variants */
  --font-body-base-single: 400 var(--font-size-87)/1 var(--font-family-display);
  --font-body-small-strong-single: 600 var(--font-size-75)/1 var(--font-family-display);

  /* Letter Spacing */
  --letter-spacing-title-hero: -3%;
  --letter-spacing-title-page: -2%;
  --letter-spacing-heading: -2%;

  /* Width tokens */
  --sds-size-width-sidebar: 280px;
  --sds-size-width-card-min: 280px;
  --sds-size-width-metric-card: 140px;

  /* F. Special Status & Theme Colors for Handbook */
  --theme-gold-primary: #B8860B;
  --theme-gold-secondary: #DAA520;
  --theme-gold-bg: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
  --theme-gold-border: #DAA520;
  --theme-gold-text: #8B4513;
  --theme-gold-text-light: #A0522D;
  
  --theme-success-primary: #059669;
  --theme-success-bg: #ecfdf5;
  --theme-success-border: #10b981;
  --theme-success-text: #0c4a6e;
  
  --theme-error-primary: #b91c1c;
  --theme-error-bg: #fef2f2;
  --theme-error-border: #fca5a5;
  --theme-error-text: #7f1d1d;
  
  --theme-warning-primary: #92400e;
  --theme-warning-bg: #fffbeb;
  --theme-warning-border: #f59e0b;
  --theme-warning-text: #78350f;
  
  --theme-info-primary: #0369a1;
  --theme-info-bg: #f0f9ff;
  --theme-info-border: #0ea5e9;
  --theme-info-text: #0c4a6e;
  
  --theme-campaign-primary: #667eea;
  --theme-campaign-bg: linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 50%, #45B7D1 100%);
  --theme-campaign-border: #FF6B6B;
  --theme-campaign-text: #ffffff;
  --theme-campaign-text-light: #f0f8ff;
}

/* Styles for example sidebar instances in documentation */
.circuitds-example-sidebar {
  padding: var(--sds-size-space-400); /* 16px - Matches default .sidebar-nav padding */
  background-color: var(--surface-background); /* Matches default .sidebar-nav bg */
  border-right: var(--sds-size-stroke-border) solid var(--border-subtle); /* Matches default .sidebar-nav border */
  /* You might want to set a fixed width for examples if not already constrained by parent */
  /* width: 280px; */ 
  /* Ensure it behaves like a flex container if its children expect that, though AppNavigation is self-contained */
}

/* ===== BASE STYLES ===== */

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: var(--font-family-display);
  font-size: var(--font-size-87);
  line-height: 1.4;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

a {
  color: inherit;
  text-decoration: none;
}

/* Typography utility classes */
.title-hero {
  font: var(--font-title-hero);
  letter-spacing: var(--letter-spacing-title-hero);
}

.title-page {
  font: var(--font-title-page);
  letter-spacing: var(--letter-spacing-title-page);
}

.subtitle {
  font: var(--font-subtitle);
}

.heading {
  font: var(--font-heading);
  letter-spacing: var(--letter-spacing-heading);
}

.subheading {
  font: var(--font-subheading);
}

/* Legacy classes maintained for compatibility - use typography.css classes in new code */
.body-base {
  font: var(--font-body-base);
}

.body-strong {
  font: var(--font-body-strong);
}

.body-small {
  font: var(--font-body-small);
}

.body-small-strong {
  font: var(--font-body-small-strong);
}

.body-code {
  font: var(--font-body-code);
}

.input {
  font: var(--font-input);
}

/* Single line variants */
.body-base-single {
  font: var(--font-body-base-single);
}

.body-small-strong-single {
  font: var(--font-body-small-strong-single);
}

/* Modal */
.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--overlay-modal, rgba(15, 43, 41, 0.92));
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--sds-size-space-400, 16px);
}

.modal-content {
  background-color: var(--surface-container-level-1, var(--eva-dark-teal));
  color: var(--text-primary, var(--eva-light-yellow));
  padding: var(--sds-size-space-800, 32px);
  border-radius: var(--sds-size-radius-200, 8px);
  border: var(--sds-size-stroke-border, 1px) solid var(--border-subtle, var(--eva-mid-teal));
  width: 90%;
  max-width: 550px;
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
  box-shadow: 0 var(--sds-size-depth-100, 4px) var(--sds-size-depth-200, 8px) rgba(0,0,0,0.25);
}

.modal-title {
  font: var(--font-heading, 600 21px/1.2 var(--font-family-display));
  color: var(--text-heading-strong, var(--eva-bright-yellow));
  margin-top: 0;
  margin-bottom: var(--sds-size-space-600, 24px);
  letter-spacing: var(--letter-spacing-heading, -2%);
}

/* === Circuit Design System Component Styles === */

/* Circuit Tag Component */
.circuit-tag {
  display: inline-flex;
  align-items: center;
  font: var(--font-body-small);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-radius: var(--sds-size-radius-50);
  border: 1px solid;
  transition: all 0.2s ease;
}

/* Tag Sizes */
.circuit-tag--small {
  padding: var(--sds-size-space-075) var(--sds-size-space-200);
  font-size: 0.75rem;
}

.circuit-tag--medium {
  padding: var(--sds-size-space-100) var(--sds-size-space-250);
  font-size: 0.8rem;
}

/* Tag Variants */
.circuit-tag--default {
  background: var(--surface-preview-background);
  color: var(--text-secondary);
  border-color: var(--border-default);
}

.circuit-tag--feature {
  background: var(--theme-info-bg);
  color: var(--theme-info-primary);
  border-color: var(--theme-info-border);
}

.circuit-tag--success {
  background: var(--theme-success-bg);
  color: var(--theme-success-primary);
  border-color: var(--theme-success-border);
}

.circuit-tag--warning {
  background: var(--theme-warning-bg);
  color: var(--theme-warning-primary);
  border-color: var(--theme-warning-border);
}

.circuit-tag--error {
  background: var(--theme-error-bg);
  color: var(--theme-error-primary);
  border-color: var(--theme-error-border);
}

.circuit-tag--info {
  background: var(--theme-info-bg);
  color: var(--theme-info-primary);
  border-color: var(--theme-info-border);
}